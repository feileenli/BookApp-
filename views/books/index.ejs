<%- include('../partials/header') %>

<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem;">
  <h2 style="margin: 0;">My Book Collection</h2>
</div>

<% if (books.length === 0) { %>
  <div class="empty-state">
    <h3>Your collection is empty</h3>
    <p>Start by searching for books on the home page.</p>
    <a href="/" class="btn">Search Books</a>
  </div>
<% } else { %>
  <div class="book-grid">
    <% books.forEach(book => { %>
      <div class="book-card">
        <% if (book.coverUrl) { %>
          <img src="<%= book.coverUrl %>" alt="<%= book.title %>" onerror="this.src='https://via.placeholder.com/280x350?text=No+Cover'">
        <% } else { %>
          <img src="https://via.placeholder.com/280x350?text=No+Cover" alt="<%= book.title %>">
        <% } %>
        <div>
          <h3><%= book.title %></h3>
          <p class="author">by <%= book.author %></p>
          <span class="status <%= book.status %>">
            <%= book.status.replace('-', ' ') %>
          </span>
          <a href="/books/<%= book._id %>" class="btn btn-small">View Details</a>
        </div>
      </div>
    <% }); %>
  </div>
<% } %>

<%- include('../partials/footer') %>
